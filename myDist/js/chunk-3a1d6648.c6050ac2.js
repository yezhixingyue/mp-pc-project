(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3a1d6648"],{"20f7":function(e,t,i){"use strict";var a=(i("7db0"),{props:{dateList:{type:Array,default:function(){return[{name:"不限",ID:"all"},{name:"今天",ID:"today"},{name:"昨天",ID:"yesterday"},{name:"前天",ID:"beforeyesterday"}]}},dateValue:{type:String,default:"today"},typeList:{type:Array,required:!0},changePropsFunc:{type:Function,default:function(){}},UserDefinedTimeIsActive:{type:Boolean,default:!1},requestFunc:{type:Function,default:function(){},required:!0},isFull:{type:Boolean,default:!0},label:{type:String,default:"可用时间"},dateType:{type:String,default:"datetime"},defaultProps:{type:Object,default:function(){return{label:"label",value:"value"}}}},computed:{showText:{get:function(){return!!(this.key&&this.beginTime&&this.endTime)}},Format2DateEnd:function(){return this.utils.getDateFormat2Date(this.endTime)},Format2DateBegin:function(){return this.utils.getDateFormat2Date(this.beginTime)},tabValue:{get:function(){var e=this,t=this.dateList.find((function(t){return t[e.defaultProps.value]===e.dateValue}));return t?t[this.defaultProps.value]:""},set:function(e){this.tabValue!==e&&("define"!==e?(this.changePropsFunc([this.typeList[0],e]),e&&this.requestFunc()):this.visible=!0)}}},data:function(){return{beginTime:"",endTime:"",visible:!1,key:!1,start:"",end:"",isNotFoulCloseType:!1}},watch:{visible:function(e){e&&(this.start=this.beginTime,this.end=this.endTime,this.isNotFoulCloseType=!1),!e&&this.UserDefinedTimeIsActive&&(this.beginTime||(this.beginTime=this.start),this.endTime||(this.endTime=this.end),this.isNotFoulCloseType||(this.start!==this.beginTime&&(this.beginTime=this.start),this.end!==this.endTime&&(this.endTime=this.end)))}},methods:{onSelectTimeSubmit:function(){this.endTime&&this.beginTime&&("date"===this.dateType&&(this.endTime="".concat(this.Format2DateEnd,"T23:59:59.997Z")),new Date(this.endTime)-new Date(this.beginTime)>0?(this.key=!0,this.isNotFoulCloseType=!0,this.visible=!1,this.beginTime===this.start&&this.endTime===this.end&&this.UserDefinedTimeIsActive||(this.changePropsFunc([this.typeList[0],""]),this.changePropsFunc([this.typeList[1],this.beginTime]),this.changePropsFunc([this.typeList[2],this.endTime]),this.requestFunc())):this.$message({showClose:!0,message:"结束日期必须大于开始日期!",type:"error"}))},handleDisabledDate4Begin:function(e){return!!this.endTime&&new Date(e)>new Date(this.Format2DateEnd)},handleDisabledDate4End:function(e){return!!this.beginTime&&new Date(e)<new Date(new Date(this.Format2DateBegin).getTime()-864e5)}}}),n=(i("7b78"),i("2877")),s=Object(n.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mp-line-date-selector-wrap",class:e.isFull?"mp-line-date-selector-wrap-is-full":""},[i("span",{staticClass:"title"},[e._v(e._s(e.label)+"：")]),i("div",{staticClass:"box"},[i("el-tabs",{model:{value:e.tabValue,callback:function(t){e.tabValue=t},expression:"tabValue"}},e._l(e.dateList,(function(t,a){return i("el-tab-pane",{key:t[e.defaultProps.label]+"-"+a,attrs:{label:t[e.defaultProps.label],name:t[e.defaultProps.value]}})})),1),i("el-popover",{attrs:{placement:"bottom","popper-class":"order-time-select",trigger:"click"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("div",{staticClass:"select-block-wrap"},[i("div",{staticClass:"block"},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss.000Z",clearable:!1,"picker-options":{disabledDate:e.handleDisabledDate4Begin},type:e.dateType,placeholder:"选择开始日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}})],1),i("div",{staticClass:"totext-box"},[e._v("至")]),i("div",{staticClass:"block"},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-ddTHH:mm:ss.997Z",clearable:!1,"picker-options":{disabledDate:e.handleDisabledDate4End},"default-time":"23:59:59",type:e.dateType,placeholder:"选择结束日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)]),i("div",{staticClass:"select-btn-wrap"},[i("el-button",{attrs:{type:"primary"},on:{click:e.onSelectTimeSubmit}},[e._v("确定")])],1),i("span",{attrs:{slot:"reference"},slot:"reference"},[e.showText?i("span",{class:{active:e.UserDefinedTimeIsActive,"manual-select-date-box":1}},["date"===e.dateType?[e._v(e._s(e.Format2DateBegin))]:[e._v(e._s(e._f("formatDate")(e.beginTime)))],i("span",{staticStyle:{"font-size":"12px",margin:"0 2px","vertical-align":"0%"}},[e._v("至")]),"date"===e.dateType?[e._v(e._s(e.Format2DateEnd))]:[e._v(e._s(e._f("formatDate")(e.endTime)))]],2):i("span",{staticClass:"manual-select-date-box"},[e._v(" 自定义时间 ")])])])],1)])}),[],!1,null,null,null);t.a=s.exports},"5d35":function(e,t,i){e.exports=i.p+"img/order-empty.2964d82c.png"},"7b78":function(e,t,i){"use strict";var a=i("ec1b");i.n(a).a},9971:function(e,t,i){"use strict";i.r(t);var a=(i("4de4"),i("5530")),n=i("2f62"),s=i("c117"),l=i("8aa1"),o=i("20f7"),r=i("be68"),c={components:{Count:l.a,LineDateSelectorComp:o.a},computed:Object(a.a)(Object(a.a)({},Object(n.e)("summary",["condition4ServiceAfterSaleList","ServiceAfterSaleList","ServiceAfterSaleListNumber"])),{},{UserDefinedTimeIsActive:function(){return""===this.condition4ServiceAfterSaleList.DateType&&!!this.condition4ServiceAfterSaleList.Date.First&&!!this.condition4ServiceAfterSaleList.Date.Second},condition:function(){if(!this.condition4ServiceAfterSaleList)return{};var e=JSON.parse(JSON.stringify(this.condition4ServiceAfterSaleList));return r.a.setDate(e),(e=r.a.filter(e)).Date&&(e.CreateTime=e.Date,delete e.Date),e},DownLoadConfigObj:function(){var e=this;return{condition:this.condition,count:this.ServiceAfterSaleListNumber,fileDefaultName:"名片之家售后单",fileDate:this.condition4ServiceAfterSaleList.Date,downFunc:function(t){return e.api.getServiceListData2Excel(t)}}}}),data:function(){return{h:0,isFootFixed:!1,dateList:[{label:"全部",value:"all"},{label:"今日",value:"today"},{label:"昨日",value:"yesterday"},{label:"本月",value:"curMonth"},{label:"上月",value:"lastMonth"}]}},methods:Object(a.a)(Object(a.a)(Object(a.a)({},Object(n.d)("summary",["setCondition4ServiceAfterSaleList"])),Object(n.b)("summary",["getServiceAfterSaleList"])),{},{getHeight:function(){return document.getElementsByTagName("body")[0].offsetHeight-410},setHeight:function(){var e=this.getHeight();this.h=e},handlePageChange:function(e){this.$store.dispatch("summary/getServiceAfterSaleList",e)},handleScroll:function(e){if(e){var t=e.scrollTop,i=e.scrollHeight-e.offsetHeight;this.isFootFixed=i-154-t>0}}}),watch:{ServiceAfterSaleList:function(){var e=this;this.$nextTick((function(){e.handleScroll(e.oApp)}))}},mounted:function(){var e=this;this.$store.dispatch("summary/getServiceAfterSaleList"),this.oApp=document.getElementById("app");var t=Object(s.a)(this.handleScroll,30);this.oApp&&(this.oApp.onscroll=function(){return t(e.oApp)}),this.$nextTick((function(){e.handleScroll(e.oApp)}))},beforeDestroy:function(){this.oApp.onscroll=null}},u=(i("cee6"),i("2877")),d=Object(u.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",{staticClass:"mp-pc-service-after-sales-page-wrap"},[a("section",[a("header",[a("div",{staticClass:"header-content"},[a("LineDateSelectorComp",{attrs:{changePropsFunc:e.setCondition4ServiceAfterSaleList,requestFunc:e.getServiceAfterSaleList,isFull:!1,typeList:[["DateType",""],["Date","First"],["Date","Second"]],dateValue:e.condition4ServiceAfterSaleList.DateType,UserDefinedTimeIsActive:e.UserDefinedTimeIsActive,label:"售后时间",dateList:e.dateList,dateType:"date"}})],1)]),e.ServiceAfterSaleList.length>0||e.ServiceAfterSaleListNumber>0?a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"content"},[a("div",{staticClass:"table-wrap"},[a("el-table",{staticClass:"ft-14-table",staticStyle:{width:"100%"},attrs:{stripe:"",border:"",data:e.ServiceAfterSaleList}},[a("el-table-column",{attrs:{prop:"ID",label:"售后单号",width:"125","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"Order.OrderID",label:"订单号",width:"140","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"产品名称",width:"200","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return a("span",{},[e._v(e._s(t.row.Order.SecondLevelName+"-"+t.row.Order.ProductName))])}}],null,!1,604585482)}),a("el-table-column",{attrs:{label:"订单金额","show-overflow-tooltip":"",width:"129"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.Order.Funds.FinalPrice)+"元")]}}],null,!1,1881817552)}),a("el-table-column",{attrs:{label:"售后类型",width:"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(2===t.row.Solution.Type?"减款":7===t.row.Solution.Type?"补印":""))]}}],null,!1,622376284)}),a("el-table-column",{attrs:{label:"减款金额",width:"135","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return 2===t.row.Solution.Type?[e._v(e._s(t.row.Solution.RefundAmount)+"元")]:void 0}}],null,!0)}),a("el-table-column",{attrs:{prop:"RePrintOrderID",label:"补印单号",width:"130","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"处理时间","show-overflow-tooltip":"",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return a("span",{staticClass:"gray"},[e._v(e._s(e._f("format2MiddleLangTypeDate")(t.row.CreateTime)))])}}],null,!1,2156153271)})],1)],1),a("div",{staticClass:"content-footer"},[a("Count",{staticClass:"float",attrs:{watchPage:e.condition4ServiceAfterSaleList.Page,handlePageChange:e.handlePageChange,count:e.ServiceAfterSaleListNumber,DownLoadConfigObj:e.DownLoadConfigObj,pageSize:20}})],1),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isFootFixed,expression:"isFootFixed"}],staticClass:"content-footer floating"},[a("div",[a("Count",{staticClass:"float",attrs:{watchPage:e.condition4ServiceAfterSaleList.Page,handlePageChange:e.handlePageChange,count:e.ServiceAfterSaleListNumber,DownLoadConfigObj:e.DownLoadConfigObj,pageSize:20}})],1)])])],1)]):a("div",{staticClass:"show-empty-bg"},[a("img",{attrs:{src:i("5d35"),alt:""}}),a("p",{staticClass:"is-gray"},[e._v("当前暂无售后单信息")])])])])}),[],!1,null,null,null);t.default=d.exports},c117:function(e,t,i){"use strict";function a(e,t,i){var a;return function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];var o=this;if(a&&clearTimeout(a),i){var r=!a;a=setTimeout((function(){a=null}),t),r&&e.apply(o,s)}else a=setTimeout((function(){e.apply(o,s)}),t)}}function n(e,t){var i=null,a=Date.now();return function(){var n=Date.now(),s=t-(n-a),l=this;if(i&&(clearTimeout(i),i=null),s<=0){for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];e.apply(l,r),a=Date.now()}else i=setTimeout(e,s)}}i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n}))},cee6:function(e,t,i){"use strict";var a=i("e484");i.n(a).a},e484:function(e,t,i){},ec1b:function(e,t,i){}}]);