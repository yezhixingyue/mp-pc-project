(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-49442f7e"],{1796:function(t,e,a){},"183f":function(t,e,a){"use strict";var r=a("1796");a.n(r).a},"2d6a":function(t,e,a){"use strict";var r=a("aa48");a.n(r).a},"370a":function(t,e,a){},"508e":function(t,e,a){"use strict";var r=a("370a");a.n(r).a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),i="["+a("5899")+"]",n=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),o=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(n,"")),2&t&&(a=a.replace(s,"")),a}};t.exports={start:o(1),end:o(2),trim:o(3)}},"67ff":function(t,e,a){},7156:function(t,e,a){var r=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var n,s;return i&&"function"==typeof(n=e.constructor)&&n!==a&&r(s=n.prototype)&&s!==a.prototype&&i(t,s),t}},"8bf0":function(t,e,a){"use strict";var r=a("67ff");a.n(r).a},a9e3:function(t,e,a){"use strict";var r=a("83ab"),i=a("da84"),n=a("94ca"),s=a("6eeb"),o=a("5135"),c=a("c6b6"),u=a("7156"),l=a("c04e"),p=a("d039"),d=a("7c73"),f=a("241c").f,h=a("06cf").f,C=a("9bf2").f,v=a("58a8").trim,g="Number",m=i[g],_=m.prototype,P=c(d(_))==g,y=function(t){var e,a,r,i,n,s,o,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(43===(e=(u=v(u)).charCodeAt(0))||45===e){if(88===(a=u.charCodeAt(2))||120===a)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(s=(n=u.slice(2)).length,o=0;o<s;o++)if((c=n.charCodeAt(o))<48||c>i)return NaN;return parseInt(n,r)}return+u};if(n(g,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var b,D=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof D&&(P?p((function(){_.valueOf.call(a)})):c(a)!=g)?u(new m(y(e)),a,D):y(e)},O=r?f(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;O.length>w;w++)o(m,b=O[w])&&!o(D,b)&&C(D,b,h(m,b));D.prototype=_,_.constructor=D,s(i,g,D)}},aa48:function(t,e,a){},fca4:function(t,e,a){"use strict";a.r(e);var r=(a("4160"),a("ac1f"),a("5319"),a("159b"),a("5530")),i=a("2f62"),n=a("6476"),s=(a("99af"),a("7db0"),a("d81d"),a("07ac"),{functional:!0,render:function(t,e){var a=e.slots,r=e.props;return t("transition-group",{attrs:{name:"mp-group-collapse-for-shop",tag:r.tag},class:r.className},[a().default])}}),o=(a("183f"),a("2877")),c=Object(o.a)(s,undefined,undefined,!1,null,null,null).exports,u={props:{widthObj:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},isDisabled:{type:Boolean,default:!1},CustomerNo:{type:String}},components:{TransitionGroupCollapse4ShopCar:c},computed:Object(r.a)(Object(r.a)({},Object(i.e)("shoppingCar",["curShoppingCarDataBeforeFirstPlace"])),{},{wStyles:function(){return Object.values(this.widthObj).map((function(t){return"width: ".concat(t,"px")}))}}),data:function(){return{isActive:!0}},methods:{handleCollapse:function(){this.isActive=!this.isActive},getProductName:function(t){var e=t.FirstLevelName,a=t.SecondLevelName,r=t.ProductName;return"".concat(e,"-").concat(a,"-").concat(r)},getProductCount:function(t){if(!this.curShoppingCarDataBeforeFirstPlace)return"";var e=this.curShoppingCarDataBeforeFirstPlace.find((function(e){return e.OrderID===t}));if(!e)return"";var a=e.ProductParams,r=a.ProductAmount,i=a.KindCount,n=a.Attributes.Unit;return"".concat(r).concat(n).concat(i,"款")},getCoupon:function(t){if(!this.curShoppingCarDataBeforeFirstPlace)return"";var e=this.curShoppingCarDataBeforeFirstPlace.find((function(e){return e.OrderID===t}));if(!e)return"";var a=e.Funds.CouponAmount;return a>0?"-".concat(a,"元"):"0元"},getContent:function(t){if(!this.curShoppingCarDataBeforeFirstPlace)return"";var e=this.curShoppingCarDataBeforeFirstPlace.find((function(e){return e.OrderID===t}));return e&&e.Content||""},getAddress:function(t){var e=t.AddressDetail,a=t.Consignee,r=t.Mobile,i=t.ExpressArea,n=i.RegionalName,s=i.CityName,o=i.CountyName,c={};return c.First="".concat(n).concat(s).concat(o).concat(e),c.Second="（".concat(a," ").concat(r,"）"),c}}},l={components:{ItemListComp:(a("508e"),Object(o.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mp-pc-pre-create-order-list-item-wrap"},[a("div",{staticClass:"product-item-header"},[a("div",{staticClass:"product-item-header-left"},[a("span",{staticClass:"product-item-header-amount-box gray is-font-14"},[t._v("产品金额："),a("i",{staticClass:"is-pink"},[t._v(t._s(t.data.ProductPrice)+"元")])]),a("span",{staticClass:"freight-box"},[a("i",{staticClass:"gray"},[t._v("运费：")]),t._v(t._s(t.data.Freight)+"元")]),a("span",[a("i",{staticClass:"gray"},[t._v("配送地址：")]),t._v(t._s(t.getAddress(t.data.Address.Address).First)+" "),a("i",{staticClass:"gray"},[t._v(" "+t._s(t.getAddress(t.data.Address.Address).Second))])])]),a("div",{staticClass:"product-item-header-right",on:{click:t.handleCollapse}},[a("div",{class:t.isActive?"active":""})])]),a("TransitionGroupCollapse4ShopCar",{staticClass:"mp-group-collapse-for-shop",attrs:{tag:"ul"}},t._l(t.data.OrderList,(function(e,r){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],key:e.OrderID,staticClass:"product-item-content has-transition",class:r===t.data.OrderList.length-1?"hide-border-item":""},[a("div",{staticClass:"is-twelve",style:t.wStyles[0]},[t._v(t._s(t.getProductName(e)))]),a("div",{style:t.wStyles[1]},[t._v(t._s(t.getProductCount(e.OrderID)))]),a("div",{style:t.wStyles[2]},[t._v(t._s(e.OriginalPrice)+"元")]),a("div",{style:t.wStyles[3]},[t._v(t._s(t.getCoupon(e.OrderID)))]),a("div",{style:t.wStyles[4]},[t._v(t._s(e.FinalPrice)+"元")]),t._v(" "),a("div",{style:t.wStyles[5]},[t._v(t._s(e.DepositAmount)+"元")]),t._v(" "),a("div",{staticClass:"is-font-12 gray",style:t.wStyles[6]},[t._v(t._s(t.getContent(e.OrderID)))])])})),0)],1)}),[],!1,null,null,null)).exports,RetractableDisplayComp:n.a},props:{orderData:{type:Object,default:function(){return{}}}},data:function(){return{widthObj:{w1:270,w2:105,w3:105,w4:105,w5:105,w6:105,w7:402},titleList:["产品","数量","原价","优惠券","成交价","订金","文件内容"],curSelectedList:[],unPayTableData:[]}},computed:{itemWidthObj:function(){var t=this.widthObj.w7+6;return Object(r.a)(Object(r.a)({},this.widthObj),{},{w7:t})}},methods:{onWidthChange:function(t,e){this.widthObj[e]=t}}},p={components:{Table4PlaceOrderFromShoppingCar:(a("2d6a"),Object(o.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("RetractableDisplayComp",{staticClass:"mp-pc-shopping-car-create-order-list-wrap",attrs:{isScrollStyle:!1,widthObj:t.widthObj,onWidthChange:t.onWidthChange,titleList:t.titleList}},[t.orderData?[a("ul",t._l(t.orderData.PackageList,(function(e,r){return a("li",{key:e.ID,class:r===t.orderData.PackageList.length-1?"hide-border":""},[a("ItemListComp",{attrs:{data:e,widthObj:t.widthObj}})],1)})),0)]:a("div",{staticClass:"no-data-show is-gray"},[t._v("暂无数据")])],2)}),[],!1,null,null,null)).exports,Dialog2Pay:a("0812").a},computed:Object(r.a)(Object(r.a)(Object(r.a)({},Object(i.e)("shoppingCar",["curShoppingCarData4FirstPlace","curShoppingCarDataBeforeFirstPlace"])),Object(i.e)("Quotation",["curPayInfo2Code"])),{},{PreCreateData:function(){return this.curShoppingCarData4FirstPlace},orderCount:function(){if(!this.PreCreateData)return"";var t=0;return this.PreCreateData.PackageList.forEach((function(e){var a=e.OrderList.length;t+=a})),t},Coupon:function(){if(!this.curShoppingCarDataBeforeFirstPlace||0===this.curShoppingCarDataBeforeFirstPlace.length)return 0;var t=0;return this.curShoppingCarDataBeforeFirstPlace.forEach((function(e){e.Coupon&&(t+=e.Coupon.Amount)})),t},payNumOnline:function(){return this.isFullPayout?this.PreCreateData.FullPayout:this.PreCreateData.MinimumCost},PayOnDelivery:function(){return this.isFullPayout?0:this.PreCreateData.PayOnDelivery},checked:{get:function(){return this.PreCreateData.MinimumCost===this.PreCreateData.FullPayout||this.isFullPayout},set:function(t){this.isFullPayout=t}}}),data:function(){return{isFullPayout:!1}},methods:{onReturnClick:function(){this.$router.go(-1),this.$store.commit("Quotation/setCurPayInfo2Code",null)},handleSubmit:function(){var t=this;this.$store.commit("Quotation/setIsShow2PayDialog",!0);if(!this.curPayInfo2Code){var e={PayInFull:this.checked,cb:function(){t.$router.push("/shopping/car"),t.$store.commit("shoppingCar/setCurShoppingCarDetailData",null),t.$store.commit("shoppingCar/setCurShoppingCarDataBeforeFirstPlace",null),t.$store.commit("shoppingCar/setCurShoppingCarData4FirstPlace",null)}};this.$store.dispatch("Quotation/placeOrderFromPreCreate",e).catch((function(){var e=arguments.length<=0?void 0:arguments[0];t.messageBox.handleLoadingError({title:"提交失败",error:e,successFunc:function(){return t.$store.commit("Quotation/setIsShow2PayDialog",!1)}})}))}}},created:function(){this.curShoppingCarData4FirstPlace||this.$router.replace("/shoppingCar")}},d=(a("8bf0"),Object(o.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",{staticClass:"mp-pc-shopping-car-submit-page-wrap"},[a("section",[a("header",{staticClass:"return-btn",on:{click:t.onReturnClick}},[t._m(0)]),a("Table4PlaceOrderFromShoppingCar",{attrs:{orderData:t.curShoppingCarData4FirstPlace}}),t.PreCreateData?a("footer",[a("p",[a("span",[t._v("总共 "),a("i",{staticClass:"is-pink"},[t._v(t._s(t.orderCount))]),t._v("个订单 ")]),a("span",[t._v(" （产品总额："),a("i",[t._v("¥"+t._s(t.PreCreateData.ProductPrice))]),t._v("， 总运费："),a("i",[t._v("¥"+t._s(t.PreCreateData.Freight))]),t._v("， 优惠券："),a("i",{class:t.Coupon?"is-pink":""},[t._v(t._s(t.Coupon?"-¥"+t.Coupon:0))]),t._v(" ）")])]),a("div",{staticClass:"price-wrap"},[t.PreCreateData?a("div",{staticClass:"price-box"},[a("div",{staticClass:"price-left"},[a("p",[t._v("在线支付：")]),a("p",{staticClass:"gray"},[t._v("货到款付：")]),t.PreCreateData.MinimumCost!==t.PreCreateData.FullPayout?a("p",{staticClass:"gray"},[t._v("支付方式：")]):t._e(),a("p",{staticClass:"final-price gray"},[t._v("当前可用余额：")])]),a("div",{staticClass:"price-right"},[a("p",{staticClass:"is-pink"},[t._v("¥ "),a("i",{staticClass:"is-font-20 is-bold"},[t._v(t._s(t._f("numToFixed2")(t.payNumOnline)))])]),a("p",{staticClass:"is-pink"},[t._v("¥ "+t._s(t._f("numToFixed2")(t.PayOnDelivery)))]),t.PreCreateData.MinimumCost!==t.PreCreateData.FullPayout?a("p",[a("el-checkbox",{attrs:{disabled:!!t.curPayInfo2Code},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("在线支付全款")])],1):t._e(),a("p",{staticClass:"last"},[t._v("¥"+t._s(t._f("numToFixed2")(t.PreCreateData.FundBalance)))])])]):t._e()]),a("div",{staticClass:"btn-wrap"},[a("el-button",{attrs:{type:"danger"},on:{click:t.handleSubmit}},[t._v("提交订单")])],1),a("Dialog2Pay",{attrs:{pageType:"shoppingCarPage",needClear:!1}})],1):t._e()],1)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"el-icon-arrow-left is-font-24 is-cancel"}),t._v(" 返回上一级")])}],!1,null,null,null));e.default=d.exports}}]);